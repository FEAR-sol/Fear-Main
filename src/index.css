/* 
 * This file uses Tailwind CSS with PostCSS processing
 * @tailwind directives are valid PostCSS syntax
 * IDE: Treat this as PostCSS, not plain CSS
 */
/* postcss-enable */
@import url('https://fonts.googleapis.com/css2?family=Jacques+Francois&display=swap');

/* Tailwind CSS directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* NUCLEAR RESET - FORCE ENABLE SCROLLING EVERYWHERE */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  /* FORCE enable touch scrolling on EVERY element */
  -webkit-overflow-scrolling: touch !important;
  touch-action: auto !important;
}

html {
  /* CRITICAL: Enable scrolling */
  overflow-y: auto !important;
  overflow-x: hidden !important;
  width: 100% !important;
  height: 100% !important;
  position: relative !important;
  /* Enable smooth scrolling */
  scroll-behavior: smooth !important;
  /* FORCE iOS momentum scrolling */
  -webkit-overflow-scrolling: touch !important;
  touch-action: auto !important;
  /* Hide scrollbar but keep functionality */
  scrollbar-width: none !important; /* Firefox */
  -ms-overflow-style: none !important; /* Internet Explorer 10+ */
}

/* Hide scrollbar for WebKit browsers */
html::-webkit-scrollbar {
  display: none !important;
}

body {
  font-family: 'Inter', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* CRITICAL: Enable scrolling */
  overflow-y: auto !important;
  overflow-x: hidden !important;
  width: 100% !important;
  height: auto !important;
  min-height: 100vh !important;
  position: relative !important;
  /* FORCE enable momentum scrolling */
  -webkit-overflow-scrolling: touch !important;
  touch-action: auto !important;
  /* Hardware acceleration */
  -webkit-transform: translate3d(0, 0, 0) !important;
  transform: translate3d(0, 0, 0) !important;
  /* Prevent horizontal bounce only */
  overscroll-behavior-x: none !important;
  overscroll-behavior-y: auto !important;
  /* Hide scrollbar but keep functionality */
  scrollbar-width: none !important; /* Firefox */
  -ms-overflow-style: none !important; /* Internet Explorer 10+ */
}

/* Hide scrollbar for WebKit browsers */
body::-webkit-scrollbar {
  display: none !important;
}

/* FORCE enable scrolling on root */
#root {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  width: 100% !important;
  height: auto !important;
  min-height: 100vh !important;
  position: relative !important;
  /* FORCE touch scrolling */
  -webkit-overflow-scrolling: touch !important;
  touch-action: auto !important;
  /* Hide scrollbar but keep functionality */
  scrollbar-width: none !important; /* Firefox */
  -ms-overflow-style: none !important; /* Internet Explorer 10+ */
}

/* Hide scrollbar for WebKit browsers */
#root::-webkit-scrollbar {
  display: none !important;
}

/* NUCLEAR MOBILE SCROLLING FIX - OVERRIDE EVERYTHING */
@media screen {
  /* Apply to ALL elements */
  *, *::before, *::after {
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
  }
  
  /* FORCE enable scrolling on ALL containers */
  html, body, #root, main, section, div, article, aside, header, footer, nav {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
  }
  
  /* Remove ANY potential scroll blockers */
  [class*="motion-"], [data-framer-component], [class*="sticky"] {
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
    pointer-events: auto !important;
  }
}

/* MOBILE SPECIFIC - EVEN MORE AGGRESSIVE */
@media (max-width: 768px) {
  /* NUCLEAR OPTION: Force scrolling on EVERYTHING */
  * {
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
  }
  
  html, body, #root {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    width: 100% !important;
    height: auto !important;
    position: relative !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
  }
  
  /* Remove height restrictions that might block scrolling */
  body {
    min-height: 100vh !important;
    height: auto !important;
    /* Hardware acceleration */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    /* FORCE momentum scrolling */
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
    /* Prevent horizontal bounce only */
    overscroll-behavior-x: none !important;
    overscroll-behavior-y: auto !important;
  }
  
  /* Ensure ALL containers allow scrolling */
  main, section, div, article {
    max-width: 100vw !important;
    overflow-x: hidden !important;
    overflow-y: visible !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
  }
  
  /* Fix framer-motion components */
  [data-framer-component], [class*="motion-"] {
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
    pointer-events: auto !important;
    will-change: transform !important;
  }
  
  /* Fix sticky elements */
  [class*="sticky"], .sticky {
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
  }
}

/* Viewport constraint utility */
.viewport-safe {
  max-width: 100vw;
  overflow-x: hidden;
  position: relative;
}

/* No horizontal scroll utility */
.no-horizontal-scroll {
  overflow-x: hidden;
  max-width: 100vw;
}

/* Prevent horizontal bounce on iOS */
html, body {
  overscroll-behavior-x: none;
}

/* Ensure all sections stay within viewport */
section {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Viewport constraint utility - ALLOW SCROLLING */
.viewport-safe {
  max-width: 100vw !important;
  overflow-x: hidden !important;
  overflow-y: auto !important;
  position: relative !important;
  -webkit-overflow-scrolling: touch !important;
  touch-action: auto !important;
}

/* No horizontal scroll utility - BUT ALLOW VERTICAL */
.no-horizontal-scroll {
  overflow-x: hidden !important;
  overflow-y: auto !important;
  max-width: 100vw !important;
  -webkit-overflow-scrolling: touch !important;
  touch-action: auto !important;
}

/* FORCE enable scrolling on ALL sections */
section {
  max-width: 100vw !important;
  overflow-x: hidden !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  touch-action: auto !important;
}

/* iOS Safari specific fixes - NUCLEAR OPTION */
@supports (-webkit-touch-callout: none) {
  /* FORCE enable scrolling on iOS */
  *, *::before, *::after {
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
  }
  
  html, body {
    -webkit-overflow-scrolling: touch !important;
    touch-action: auto !important;
    scroll-behavior: smooth !important;
    overflow-y: auto !important;
    height: 100% !important;
    position: relative !important;
  }
  
  body {
    height: auto !important;
    min-height: 100vh !important;
  }
}
/* MOBILE UTILITY CLASSES - FORCE SCROLLING */
@media (max-width: 768px) {
  .mobile-hide {
    display: none !important;
  }
  
  .mobile-safe-absolute {
    left: 0.5rem !important;
    right: auto !important;
    transform: none !important;
  }
  
  /* ParallaxServiceCard optimizations - Unified responsive design */
  .bg-fear-card {
    max-width: 100% !important;
    overflow: hidden !important;
    touch-action: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  .bg-fear-card img {
    /* Ensure images fit properly with proper aspect ratio */
    object-fit: contain !important;
    object-position: center !important;
    max-width: 90% !important;
    max-height: 90% !important;
    width: auto !important;
    height: auto !important;
    pointer-events: none !important;
    /* Smooth transitions */
    transition: all 0.3s ease !important;
    /* Add subtle shadow */
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)) !important;
  }
}

/* Responsive ParallaxServiceCard containers - Unified approach */
@media (max-width: 639px) {
  .bg-fear-card {
    max-width: calc(100vw - 2rem) !important;
    margin: 0 auto !important;
  }
  
  .bg-fear-card img {
    max-height: 120px !important;
    max-width: 85% !important;
  }
}

@media (min-width: 640px) and (max-width: 1023px) {
  .bg-fear-card img {
    max-height: 160px !important;
    max-width: 85% !important;
  }
}

@media (min-width: 1024px) {
  .bg-fear-card img {
    max-height: 200px !important;
    max-width: 85% !important;
  }
}
/* GLOBAL SCROLLBAR HIDING - Keep functionality, hide visual scrollbars */
* {
  /* Hide scrollbar but keep functionality */
  scrollbar-width: none !important; /* Firefox */
  -ms-overflow-style: none !important; /* Internet Explorer 10+ */
}

/* Hide scrollbar for WebKit browsers (Chrome, Safari, Edge) */
*::-webkit-scrollbar {
  display: none !important;
}

/* Ensure main containers don't show scrollbars */
main, section, div, article, aside, header, footer, nav {
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

main::-webkit-scrollbar,
section::-webkit-scrollbar,
div::-webkit-scrollbar,
article::-webkit-scrollbar,
aside::-webkit-scrollbar,
header::-webkit-scrollbar,
footer::-webkit-scrollbar,
nav::-webkit-scrollbar {
  display: none !important;
}
/* Additional image optimization utilities */
.service-image-container {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;
  border-radius: 1rem !important;
  padding: 1rem !important;
  position: relative !important;
  overflow: hidden !important;
}

.service-image-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 70%);
  pointer-events: none;
}

.service-image {
  max-width: 85% !important;
  max-height: 85% !important;
  width: auto !important;
  height: auto !important;
  object-fit: contain !important;
  object-position: center !important;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1)) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.service-image:hover {
  filter: drop-shadow(0 8px 16px rgba(0,0,0,0.15)) !important;
  transform: scale(1.05) !important;
}

/* Ensure images load properly on different connection speeds */
.service-image[loading="lazy"] {
  background: linear-gradient(45deg, #f0f0f0 25%, transparent 25%), 
              linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), 
              linear-gradient(45deg, transparent 75%, #f0f0f0 75%), 
              linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
  animation: loading-shimmer 1.5s infinite linear;
}

@keyframes loading-shimmer {
  0% { background-position: 0 0, 0 10px, 10px -10px, -10px 0px; }
  100% { background-position: 20px 20px, 20px 30px, 30px 10px, 10px 20px; }
}

/* Fix for different image formats and aspect ratios */
.service-image[src$=".png"],
.service-image[src$=".PNG"] {
  /* PNG images often have transparency, ensure good background */
  background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(248,249,250,0.6) 100%);
  border-radius: 0.5rem;
}

.service-image[src$=".jpg"],
.service-image[src$=".jpeg"],
.service-image[src$=".JPG"],
.service-image[src$=".JPEG"] {
  /* JPEG images are usually photos, might need different handling */
  border-radius: 0.25rem;
}

/* Responsive image sizing based on viewport */
@media (max-width: 480px) {
  .service-image {
    max-width: 80% !important;
    max-height: 80% !important;
  }
}

@media (min-width: 481px) and (max-width: 768px) {
  .service-image {
    max-width: 85% !important;
    max-height: 85% !important;
  }
}

@media (min-width: 769px) {
  .service-image {
    max-width: 90% !important;
    max-height: 90% !important;
  }
}